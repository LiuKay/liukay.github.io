import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as d,o as l,c as o,a as e,d as a,e as s,b as t}from"./app-CewIN9nr.js";const c={},r={href:"https://dzone.com/articles/introduction-to-java-bytecode",target:"_blank",rel:"noopener noreferrer"},v=t(`<p>è¿™æ˜¯ä¸€éç›¸å¯¹æ¥è¯´æ¯”è¾ƒç®€å•çš„Java å­—èŠ‚ç å…¥é—¨æ–‡ç« ï¼Œä¸€å¼€å§‹ä½œè€…è®²åˆ°äº†é˜…è¯»Java å­—èŠ‚ç æ¯”è¾ƒæ¯ç‡¥æ— å‘³ï¼Œä½†æ˜¯é€šè¿‡è‡ªå·±çš„æ•…äº‹è¯´æ˜äº†å­—èŠ‚ç çš„ä½œç”¨ï¼Œäº‹æƒ…æ˜¯è¿™æ ·çš„ï¼Œè¿™å“¥ä»¬åœ¨å¾ˆæ—©ä¹‹å‰åšäº†ä¸€æ¬¡åŠŸèƒ½å˜æ›´ï¼Œç›®çš„æ˜¯ä¸ºäº†æµ‹è¯•ä¿®å¤ä¸€ä¸ªæ½œåœ¨çš„æ€§èƒ½é—®é¢˜, å¹¶ä¸”æ‰“å¥½äº† JAR åŒ…éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šã€‚ä¸å¹¸çš„æ˜¯ï¼Œä»–å¹¶æ²¡æœ‰å°†æºç æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿä¸Šï¼Œåæ¥ä¸çŸ¥ä»€ä¹ˆåŸå› è¿™æ®µä»£ç æ‰¾ä¸åˆ°äº†ï¼Œä¸€ç‚¹ç—•è¿¹éƒ½æ²¡æœ‰äº†ï¼ˆåšäº†ä»€ä¹ˆæ–°çš„åŠŸèƒ½ï¼Œè®°å¾—ä¸€å®šè¦æäº¤ä»£ç åˆ°Git ä¸Šï¼‰ï¼Œå‡ ä¸ªæœˆåå½“ä»–æƒ³ç”¨åˆ°é‚£æ®µä»£ç çš„æ—¶å€™ï¼Œæ‚²å‰§å°±å‘ç”Ÿäº†ã€‚è¿˜å¥½è¿™å“¥ä»¬åœ¨è¿œç¨‹æœºå™¨ä¸Šéƒ¨ç½²çš„ JAR åŒ…è¿˜åœ¨ï¼Œäºæ˜¯ä»–ç”¨åç¼–è¯‘çš„å·¥å…·æ¥æ‰¾åˆ°æºç ï¼Œæ›´ä¸å¹¸çš„æ˜¯ï¼Œåç¼–è¯‘å·¥å…·åœ¨å…³é”®çš„<code>Class</code>ä¸Šå´©æºƒäº†ï¼Œä¹Ÿå°±æ˜¯ä»–æ­£å¥½è¦æ‰¾çš„å…³é”®ä»£ç !</p><p>åœ¨å°è¯•äº†æ— æ•°æ¬¡ä¹‹åï¼Œä»–æ”¾å¼ƒäº†ç”¨åç¼–è¯‘å·¥å…·ï¼Œæ‰€å¹¸çš„æ˜¯ï¼Œè¿™å“¥ä»¬æ¯”è¾ƒç†Ÿæ‚‰ Java å­—èŠ‚ç ï¼Œå¹¶ä¸”è¿˜è®°å¾—ä»–çš„ä»£ç æ˜¯ä»å“ªå¼€å§‹çš„ï¼Œäºæ˜¯é€šè¿‡é˜…è¯»Java å­—èŠ‚ç çŸ¥é“äº†è‡ªå·±åšäº†å“ªäº›ä¿®æ”¹ï¼Œæœ€åä»–ç—›è‹¦çš„æ€»ç»“åˆ° ğŸ˜†</p><p><code>I made sure to learn from my mistake and preserve them this time!</code></p><p>Java å­—èŠ‚ç æ˜¯ä¸€ç§ä»‹äºé«˜çº§è¯­è¨€å’Œåº•å±‚ä»£ç ä¹‹é—´çš„ä¸­é—´äº§ç‰©ï¼Œå®ƒå±è”½äº†æ“ä½œç³»ç»ŸæŒ‡ä»¤æ¶æ„ä¹‹é—´çš„åŒºåˆ«ï¼Œå®šä¹‰äº†JVM è™šæ‹Ÿæœºèƒ½å¤Ÿè¯†åˆ«çš„ç»Ÿä¸€æ ¼å¼ï¼Œå¯¹äºæ‰€æœ‰å¹³å°æ¥è¯´ï¼Œå­—èŠ‚ç éƒ½æ˜¯é€šç”¨çš„ã€‚</p><p>Java å­—èŠ‚ç æœ‰ç‚¹ç±»ä¼¼äºæœºå™¨ç ï¼Œä½†æ˜¯å´æ›´ä¸ºç®€å•æ˜“æ‡‚ï¼Œè¿™å¾—ç›Šäº JVM è™šæ‹Ÿæœºä½¿ç”¨çš„æŒ‡ä»¤é›†æ¶æ„æ¯”è¾ƒç®€å•ï¼Œå¹¶ä¸”æœ‰ååˆ†å®Œå–„çš„æ–‡æ¡£ã€‚</p><p>æ–‡ç« ç®€å•ä»‹ç»äº†ä¸€ä¸‹ JVM è™šæ‹Ÿæœºæ”¯æŒçš„æ•°æ®ç±»å‹ï¼Œæ¯”å¦‚æˆ‘ä»¬å¸¸è§çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼š<code>byte</code>ã€<code>short</code> ã€<code>int</code> ã€<code>long</code> ã€<code>char</code> ã€<code>float</code>ã€ <code>double</code> ã€<code>boolean</code>ä»¥åŠ<code>returnAddress</code>,è¿˜æœ‰å¼•ç”¨ç±»å‹ï¼ŒåŒ…æ‹¬<code>class</code>,<code>array</code>,<code>interface</code>. å¯¹<code>boolean</code>ç±»å‹æ¥è¯´å¹¶æ²¡æœ‰ç›¸å¯¹åº”çš„å­—èŠ‚ç æŒ‡ä»¤ï¼Œè€Œæ˜¯è½¬æ¢æˆ<code>int</code> ç±»å‹æ¥æ“ä½œï¼Œé™¤äº†<code>returnAddress</code>ä»£è¡¨æŒ‡å‘ä¸‹ä¸€ä¸ªæŒ‡ä»¤å¤–ï¼Œå…¶ä»–ç±»å‹éƒ½å¯ä»¥åœ¨ Java ä¸­æ‰¾åˆ°å¯¹åº”çš„ç±»å‹.</p><p>å­—èŠ‚ç æŒ‡ä»¤é›†çš„ç®€åŒ–å¾—ç›Šäº<code>Sun</code>å…¬å¸é‡‡ç”¨äº†åŸºäºæ ˆçš„è™šæ‹Ÿæœºæ¶æ„ï¼Œè¿™æ˜¯ä¸€ç§ä¸åŒäºåŸºäºå¯„å­˜å™¨çš„æ¶æ„ã€‚JVM è¿›ç¨‹å†…å­˜åˆ’åˆ†æˆäº†ä¸åŒçš„å†…å­˜åŒºåŸŸï¼Œä½†æ˜¯å´åªè¦æ£€æŸ¥ JVM è™šæ‹Ÿæœºæ ˆå°±èƒ½æ»¡è¶³éµå¾ªå­—èŠ‚ç çš„æŒ‡ä»¤é›†çš„è¦æ±‚ã€‚</p><p>å¯¹äºJVM è™šæ‹Ÿæœºå†…å­˜çš„åˆ’åˆ†çš„ä»‹ç»ï¼Œè¿™ç¯‡æ–‡ç« è¯´çš„æ¯”è¾ƒç®€å•ï¼Œæƒ³äº†è§£æ›´å¤šå¯ä»¥é˜…è¯»å‘¨å¿—æ˜çš„ã€Šæ·±å…¥ç†è§£Javaè™šæ‹Ÿæœº(ç¬¬ä¸‰ç‰ˆ)ã€‹ä»¥åŠ JVM çš„è™šæ‹Ÿæœºè§„èŒƒã€‚</p><p>ç„¶åä½œè€…ä¸¾äº†å‡ ä¸ªç®€å•çš„Java ä»£ç ç¼–è¯‘åçš„å­—èŠ‚ç ï¼Œåˆ†æäº†å­—èŠ‚ç æ˜¯å¦‚ä½•æ“ä½œæœ¬åœ°å˜é‡è¡¨å’Œæ“ä½œæ•°æ ˆçš„ï¼Œè¿™é‡Œè¦æ³¨æ„çš„æ˜¯<code>invokestatic</code>æŒ‡ä»¤å¦‚ä½•è¿›è¡Œçš„æ–¹æ³•è°ƒç”¨ï¼Œå°†æ“ä½œæ•°æ ˆä¸Šçš„æ•°æ®ä¼ é€’ç»™ä¸‹ä¸€ä¸ªæ ˆå¸§ã€‚è¿˜æœ‰å°±æ˜¯<code>new</code>ä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™ä¼šæ¶‰åŠåˆ°çš„æŒ‡ä»¤ï¼Œå…ˆæ˜¯<code>new</code>æŒ‡ä»¤åˆ›å»ºä¸€ä¸ªåœ¨å †ä¸Šçš„å¯¹è±¡ä»¥åŠå°†å¼•ç”¨å¯¹è±¡<code>push </code>åˆ°æ“ä½œæ•°æ ˆé¡¶ï¼Œç„¶å<code>dup</code>æŒ‡ä»¤æ‹·è´äº†è¿™ä¸ªå¼•ç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´æ­¤æ—¶åœ¨æ“ä½œæ•°æ ˆä¸Šæœ‰2ä¸ªå®ä¾‹å¯¹è±¡çš„å¼•ç”¨ï¼Œç„¶åå‹å…¥æ„é€ å‡½æ•°éœ€è¦çš„å‚æ•°å’Œå®ä¾‹å¼•ç”¨ï¼Œç”¨<code>invokespecial</code>è°ƒç”¨æ„é€ å‡½æ•°ã€‚</p><p>æœ€åä½œè€…è¯´æ˜ï¼Œä¸€èˆ¬æƒ…å†µä¸‹å¹¶ä¸éœ€è¦å®Œå…¨æŒæ¡å­—èŠ‚ç æŒ‡ä»¤çš„è¯¦ç»†ç”¨æ³•å’Œå…·ä½“çš„æŒ‡ä»¤æµç¨‹æ¥è¯»æ‡‚ç¨‹åºæ‰§è¡Œçš„æ˜¯ä»€ä¹ˆã€‚æ¯”å¦‚ä¸ºäº†ææ¸…æ¥šä½¿ç”¨ Java Stream æ¥è¯»å–æ–‡ä»¶çš„æ—¶å€™æ˜¯å¦ä¼šæ­£ç¡®å…³é—­æµï¼Œé€šè¿‡æŸ¥çœ‹å­—èŠ‚ç å‘ç°æœ‰ä¸€æ®µç±»ä¼¼äº <code>try-with-resource</code>çš„é€»è¾‘å°±å¯ä»¥çŸ¥é“ç»“æœäº†ã€‚</p><div class="language-Java line-numbers-mode" data-ext="Java" data-title="Java"><pre class="language-Java"><code>public static void main(java.lang.String[]) throws java.lang.Exception;
 descriptor: ([Ljava/lang/String;)V
 flags: (0x0009) ACC_PUBLIC, ACC_STATIC
 Code:
   stack=2, locals=8, args_size=1
      0: ldc           #2                  // class test/Test
      2: ldc           #3                  // String input.txt
      4: invokevirtual #4                  // Method java/lang/Class.getResource:(Ljava/lang/String;)Ljava/net/URL;
      7: invokevirtual #5                  // Method java/net/URL.toURI:()Ljava/net/URI;
     10: invokestatic  #6                  // Method java/nio/file/Paths.get:(Ljava/net/URI;)Ljava/nio/file/Path;
     13: astore_1
     14: new           #7                  // class java/lang/StringBuilder
     17: dup
     18: invokespecial #8                  // Method java/lang/StringBuilder.&quot;&lt;init&gt;&quot;:()V
     21: astore_2
     22: aload_1
     23: invokestatic  #9                  // Method java/nio/file/Files.lines:(Ljava/nio/file/Path;)Ljava/util/stream/Stream;
     26: astore_3
     27: aconst_null
     28: astore        4
     30: aload_3
     31: aload_2
     32: invokedynamic #10,  0             // InvokeDynamic #0:accept:(Ljava/lang/StringBuilder;)Ljava/util/function/Consumer;
     37: invokeinterface #11,  2           // InterfaceMethod java/util/stream/Stream.forEach:(Ljava/util/function/Consumer;)V
     42: aload_3
     43: ifnull        131
     46: aload         4
     48: ifnull        72
     51: aload_3
     52: invokeinterface #12,  1           // InterfaceMethod java/util/stream/Stream.close:()V
     57: goto          131
     60: astore        5
     62: aload         4
     64: aload         5
     66: invokevirtual #14                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     69: goto          131
     72: aload_3
     73: invokeinterface #12,  1           // InterfaceMethod java/util/stream/Stream.close:()V
     78: goto          131
     81: astore        5
     83: aload         5
     85: astore        4
     87: aload         5
     89: athrow
     90: astore        6
     92: aload_3
     93: ifnull        128
     96: aload         4
     98: ifnull        122
    101: aload_3
    102: invokeinterface #12,  1           // InterfaceMethod java/util/stream/Stream.close:()V
    107: goto          128
    110: astore        7
    112: aload         4
    114: aload         7
    116: invokevirtual #14                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
    119: goto          128
    122: aload_3
    123: invokeinterface #12,  1           // InterfaceMethod java/util/stream/Stream.close:()V
    128: aload         6
    130: athrow
    131: getstatic     #15                 // Field java/lang/System.out:Ljava/io/PrintStream;
    134: aload_2
    135: invokevirtual #16                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
    138: invokevirtual #17                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
    141: return
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ° <code>java/util/Stream</code>çš„è°ƒç”¨ï¼Œé€šè¿‡<code>invokedynamic</code>å¤„ç†äº†<code>Consumer</code>ç±»å‹çš„å¯¹è±¡ï¼Œ<code>invokeinterface</code>ä¸ºStram.forEach è°ƒç”¨ï¼Œåé¢ä¼šçœ‹åˆ°ä¸€äº› <code>Stream.close:()V</code>å’Œ<code>Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V</code>çš„é‡å¤è°ƒç”¨ï¼Œæ­¤å¤„å°±æ˜¯<code>try-with-resource</code>ç”¨æ¥è‡ªåŠ¨å…³é—­æµçš„åŸºæœ¬é€»è¾‘ã€‚</p><p>æ€»çš„æ¥è¯´ï¼Œè¿™æ˜¯ä¸€ç¯‡æ¯”è¾ƒä¸é”™çš„å…¥é—¨æ–‡ç« ï¼Œä½œè€…ä»¥è‡ªèº«çš„æ¡ˆä¾‹æ¥è¯´æ˜åœ¨æ—¥å¸¸å¼€å‘ä¸­å­—èŠ‚ç çš„ä½œç”¨ï¼Œæ–‡ç« ä¸­æ‰€ç”¨çš„é…å›¾ä¹Ÿå¾ˆå€¼è§‚æ¸…æ™°ã€‚</p>`,13);function m(u,b){const n=d("ExternalLinkIcon");return l(),o("div",null,[e("blockquote",null,[e("p",null,[a("æ¥æºï¼š "),e("a",r,[a("https://dzone.com/articles/introduction-to-java-bytecode"),s(n)])])]),v])}const g=i(c,[["render",m],["__file","jvm-byte-code.html.vue"]]),j=JSON.parse('{"path":"/ARTS/jvm-byte-code.html","title":"JVM å­—èŠ‚ç ä»‹ç»","lang":"zh-CN","frontmatter":{"title":"JVM å­—èŠ‚ç ä»‹ç»","date":"2021-01-16T00:00:00.000Z","category":["ç¼–ç¨‹æŠ€æœ¯"],"tags":["JVM","TIPS"]},"headers":[],"git":{"createdTime":1663489876000,"updatedTime":1712909929000,"contributors":[{"name":"LiuKay","email":"kayfen@foxmail.com","commits":1},{"name":"LiuKay","email":"passionno1@qq.com","commits":1}]},"readingTime":{"minutes":4.85,"words":1454},"filePathRelative":"ARTS/jvm-byte-code.md","localizedDate":"2021å¹´1æœˆ16æ—¥","excerpt":"<blockquote>\\n<p>æ¥æºï¼š <a href=\\"https://dzone.com/articles/introduction-to-java-bytecode\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://dzone.com/articles/introduction-to-java-bytecode</a></p>\\n</blockquote>\\n<p>è¿™æ˜¯ä¸€éç›¸å¯¹æ¥è¯´æ¯”è¾ƒç®€å•çš„Java å­—èŠ‚ç å…¥é—¨æ–‡ç« ï¼Œä¸€å¼€å§‹ä½œè€…è®²åˆ°äº†é˜…è¯»Java å­—èŠ‚ç æ¯”è¾ƒæ¯ç‡¥æ— å‘³ï¼Œä½†æ˜¯é€šè¿‡è‡ªå·±çš„æ•…äº‹è¯´æ˜äº†å­—èŠ‚ç çš„ä½œç”¨ï¼Œäº‹æƒ…æ˜¯è¿™æ ·çš„ï¼Œè¿™å“¥ä»¬åœ¨å¾ˆæ—©ä¹‹å‰åšäº†ä¸€æ¬¡åŠŸèƒ½å˜æ›´ï¼Œç›®çš„æ˜¯ä¸ºäº†æµ‹è¯•ä¿®å¤ä¸€ä¸ªæ½œåœ¨çš„æ€§èƒ½é—®é¢˜, å¹¶ä¸”æ‰“å¥½äº† JAR åŒ…éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šã€‚ä¸å¹¸çš„æ˜¯ï¼Œä»–å¹¶æ²¡æœ‰å°†æºç æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿä¸Šï¼Œåæ¥ä¸çŸ¥ä»€ä¹ˆåŸå› è¿™æ®µä»£ç æ‰¾ä¸åˆ°äº†ï¼Œä¸€ç‚¹ç—•è¿¹éƒ½æ²¡æœ‰äº†ï¼ˆåšäº†ä»€ä¹ˆæ–°çš„åŠŸèƒ½ï¼Œè®°å¾—ä¸€å®šè¦æäº¤ä»£ç åˆ°Git ä¸Šï¼‰ï¼Œå‡ ä¸ªæœˆåå½“ä»–æƒ³ç”¨åˆ°é‚£æ®µä»£ç çš„æ—¶å€™ï¼Œæ‚²å‰§å°±å‘ç”Ÿäº†ã€‚è¿˜å¥½è¿™å“¥ä»¬åœ¨è¿œç¨‹æœºå™¨ä¸Šéƒ¨ç½²çš„ JAR åŒ…è¿˜åœ¨ï¼Œäºæ˜¯ä»–ç”¨åç¼–è¯‘çš„å·¥å…·æ¥æ‰¾åˆ°æºç ï¼Œæ›´ä¸å¹¸çš„æ˜¯ï¼Œåç¼–è¯‘å·¥å…·åœ¨å…³é”®çš„<code>Class</code>ä¸Šå´©æºƒäº†ï¼Œä¹Ÿå°±æ˜¯ä»–æ­£å¥½è¦æ‰¾çš„å…³é”®ä»£ç !</p>"}');export{g as comp,j as data};
